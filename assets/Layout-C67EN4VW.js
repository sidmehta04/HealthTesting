import{r as t,j as e,aF as b,b as y,u as w,aG as f,U as x,aH as h,aI as k,aJ as C,aK as L,aL as M,aM as D}from"./common-vendor-Dm1O5F_f.js";import{u as j}from"./index-D5f3LA8Q.js";import"./firebase-vendor-DMyrRdrZ.js";const p=t.memo(({item:s,userRole:l,isActive:n,onClose:o})=>{if(!s.roles.includes(l))return null;const i=n(s.path),r=s.icon;return e.jsxs(b,{to:s.path,className:`
        flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium
        transition-all duration-200
        ${i?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}
      `,onClick:o,children:[e.jsx(r,{className:"w-5 h-5"}),s.label]})}),g=[{path:"/superadmin",label:"Admin Dashboard",icon:L,roles:["superadmin"]},{path:"/dashboard",label:"Dashboard",icon:M,roles:["health-camp-admin","individual-camp-admin"]},{path:"/health-camp",label:"Health Camp",icon:f,roles:["health-camp-admin","superadmin"]},{path:"/individual-health-camp",label:"Home Collection",icon:D,roles:["health-camp-admin","individual-camp-admin","superadmin"]}];function N(){const{currentUser:s,userRole:l,logout:n}=j(),o=y(),i=w(),[r,c]=t.useState(!1);if(!s)return null;const d=t.useCallback(async()=>{try{await n(),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(a=>{document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}),i("/login",{replace:!0})}catch(a){console.error("Failed to logout:",a)}},[n,i]),m=t.useCallback(a=>o.pathname===a,[o.pathname]),u=t.useCallback(()=>c(!1),[]),v=t.useCallback(()=>c(a=>!a),[]);return e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(b,{to:"/individual-health-camp",className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-8 h-8 text-blue-600"}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Diagnostics Portal"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-2 ml-8",children:g.map(a=>e.jsx(p,{item:a,userRole:l,isActive:m,onClose:u},a.path))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-50",children:[e.jsx(x,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.email.split("@")[0]})," "]}),e.jsxs("button",{onClick:d,className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[e.jsx(h,{className:"w-4 h-4"}),"Logout"]}),e.jsx("button",{onClick:v,className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r?e.jsx(k,{className:"w-6 h-6 text-gray-600"}):e.jsx(C,{className:"w-6 h-6 text-gray-600"})})]})]}),e.jsx("div",{className:`
            md:hidden absolute top-16 left-0 right-0 bg-white border-b border-gray-200
            transition-all duration-200 ease-in-out
            ${r?"opacity-100 visible":"opacity-0 invisible"}
          `,children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[g.map(a=>e.jsx(p,{item:a,userRole:l,isActive:m,onClose:u},a.path)),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600",children:[e.jsx(x,{className:"w-4 h-4"}),s.email]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 w-full px-4 py-2 rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[e.jsx(h,{className:"w-4 h-4"}),"Logout"]})]})})]})})}t.memo(N);const I=({children:s})=>{const{currentUser:l}=j();return e.jsxs("div",{className:"min-h-screen bg-white",children:[l&&e.jsx(N,{}),e.jsx("div",{className:"max-w-12xl mx-auto",children:s})]})};export{I as default};
